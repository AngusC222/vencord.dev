---
import Card, { Kind } from "components/Card.astro";
import LinkButton from "components/LinkButton.astro";
import {
    CHROME_WEBSTORE_URL,
    FIREFOX_WEBSTORE_URL,
    USERSCRIPT_URL,
} from "scripts/constants";
import Tab from "./Tab.astro";
---

<Tab>
    <Fragment slot="header">
        <p>
            You can download Vencord from the Chrome or Firefox Store, or use
            the UserScript.
        </p>
        <div class="buttons">
            <a
                href={FIREFOX_WEBSTORE_URL}
                class="disabled"
                onclick={"event.preventDefault()"}
            >
                <img
                    src="/assets/firefox-button.webp"
                    title="Get Vencord on the Firefox Webstore"
                />
            </a>
            <a href={CHROME_WEBSTORE_URL}>
                <img
                    src="/assets/chrome-button.png"
                    title="Get Vencord on the Chrome Webstore"
                />
            </a>
            <LinkButton href={USERSCRIPT_URL}>
                Download Vencord.user.js
            </LinkButton>
        </div>
    </Fragment>

    <Fragment slot="footer">
        <Card kind={Kind.Error}>
            <p>
                Mozilla have taken down the entire Vencord extension because
                they were unable to compile it. Thus, it is not available for
                now. Use the UserScript or a chromium browser.
            </p>
        </Card>
        <Card kind={Kind.Warning}>
            <p>
                Please note that due to Discord's
                <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP"
                    >content security policy</a
                >, the CSS Editor, custom themes and plugins making use of
                external scripts will not work with the UserScript.
            </p>
        </Card>
    </Fragment>
</Tab>

<style>
    .buttons {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        padding: 1em;
        flex-wrap: wrap;
    }

    .disabled {
        filter: grayscale(1);
        cursor: not-allowed;
    }
</style>
